@page
@using APPLogin.Models
@model APPLogin.Pages.MenuModel
@{
    ViewBag.Title = "MAIN MENU";
}

<div class="row divcontainer divcenter">
    <div class="divcol1 col-sm-3 col-sm-auto">
        <div class="vstack h-100">
            <img src="img/svg/pimeslogo.svg" alt="pimeslogo" style="padding-top:35px;display:block;margin:0 auto; width:150px; z-index:1" />
            <div class="h4 text-center text-white" style="letter-spacing:0.15em">
                P.IMES CORP.
            </div>
            <div class="text-center mt-2">
                @if (@Model.imgstring == null)
                {
                    <img src="img/blankprofile.png" class="border bg-white" style="max-width: 100%; width:120px; height:auto;">
                }
                else
                {
                    <img src="@Model.imgstring" class="border" style="max-width: 100%; width:120px; height:auto;">
                }
            </div>
            <div class="vstack mt-4">
                <p class="text-center mt-0 text-white">
                    Hi, @Model.user, <br />
                    @Model.greetings
                </p>
                <p class="h5 mt-0 text-center text-white" style="letter-spacing:0.15em">PIMES WEB</p>
            </div>
            <p class="mt-2 text-center text-white">Ver. @Model.webversion</p>
        </div>
    </div>
    <div class="divcol2 col-sm-4">
        <div class="vstack">
            <div class="mt-3 ms-3 text-md-start text-center">
                <span class="fs-6">
                    AVAILABLE SYSTEM <br />
                    (Double-click to open)
                </span>
            </div>
            <div class="mt-3">
                <div class="text-md-start text-center">
                    <div class="lstlink list-group list-group-flush">
                        @foreach (var item in Model.userMenu)
                        {
                            if (item.menuitem == "DIRECTORY")
                            {
                                <a class="list-group-item list-group-item-action d-md-flex align-items-center" onclick="return false" ondblclick="location=this.href" href="@item.menuprogram">@item.menuitem</a>
                            }
                            else
                            {
                                <a class="list-group-item list-group-item-action d-md-flex align-items-center" onclick="return false" ondblclick="location=this.href" href="@item.menuprogram?z=@Model.user&&y=@Model.mode&&x=@Model.bucode&&w=@Model.role">@item.menuitem</a>
                            }
                        }
                        <a class="list-group-item list-group-item-action d-md-flex align-items-center" onclick="return false" ondblclick="location=this.href" href="https://localhost:5150">[ATS] AUDIT PORTAL</a>
                        <a class="list-group-item list-group-item-action d-md-flex align-items-center" onclick="return false" ondblclick="location=this.href" href="http://localhost:5149">[ATS] SFG</a>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <div class="divcol3 col-sm-5 d-md-block d-none">
        <div class="vstack h-100">
            <div class="vstack h-75">
                <div class="mt-3 ms-3 text-md-start text-center">
                    <span class="fs-6">
                        PENDING APPROVAL <br />
                        (Double-click to open)
                    </span>
                </div>
                <div class="mt-3 overflow-auto px-1">
                    <table id="tblpending" class="table table-hover" style="width:100%;background-color:transparent!important">
                        <thead>
                            <tr>
                                <th scope="col">Program Name</th>
                                <th scope="col">B. U.</th>
                                <th scope="col">Role</th>
                                <th class="d-none" scope="col">Pending</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model.userPending)
                            {
                                <tr>
                                    <td id="modulename">
                                        @Html.DisplayFor(m => item.modulename)
                                    </td>
                                    <td id="bucode">
                                        @Html.DisplayFor(m => item.bucode)
                                    </td>
                                    <td id="rolename">
                                        @Html.DisplayFor(m => item.rolename)
                                    </td>
                                    <td class="d-none" id="pendingcount">
                                        @Html.DisplayFor(m => item.pendingcount)
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="h-25" style="background-color:whitesmoke">
                <div class="text-md-start px-1 text-center">
                    <img class="mt-1" src="img/asstd/dyk.png" style="height:30px;">
                </div>
                <div class="text-md-start pt-1 pb-2 ps-2 pe-2  text-center">
                    <div class="overflow-auto text-wrap text-black" style="height:75px;">
                        @Model.trivia
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>