@page
@using System.Text.Json
@using WEBLogin.Models
@using static WEBLogin.Models.LaptopPassModel


@model WEBLogin.Pages.Account.RoleModel
@{
    ViewBag.Title = "PIMES Role";
    Layout = "_LayoutFull";
}


<div class="vstack">
    <div class="hstack">
        <div class="col-4 text-center">
            @*     <div class="container text-center bg-white"> *@
            <img src="/img/blankprofile.png" style="max-width: 100%; width:150px; height:auto;">
            @*  </div> *@
        </div>
        <div class="col-8">
            <div class="vstack centerdiv">
                <div class="container">


                    @{
                        var tempData = JsonSerializer.Deserialize(TempData["CurrentUser"].ToString(), typeof(IEnumerable<UserLoginModel>));
                        var struser = "";


                        foreach (var tempItem in (IEnumerable<UserLoginModel>)tempData)
                        {
                            struser = tempItem.username;
                        }

                        TempData.Keep("CurrentUser");


                        var varlist = Model.roleList
                        .Where(x => x.username == struser)
                        .ToList();

                        var strusername = "";
                        var stremail = "";
                        var strlocalno = "";
                        var strbuname = "";


                        foreach (var item in varlist)
                        {
                            strusername = item.username;
                            stremail = item.email;
                            strlocalno = item.localno;
                            strbuname = item.buname;
                        }

                        <table class="table">
                            <tbody>
                                <tr>
                                    <th scope="row">User Name</th>
                                    <td>@strusername</td>
                                </tr>
                                <tr>
                                    <th scope="row">Email</th>
                                    <td>@stremail</td>
                                </tr>
                                <tr>
                                    <th scope="row">Local No.</th>
                                    <td>@strlocalno</td>
                                </tr>
                            </tbody>
                        </table>

                    }








                    @*  <table class="table">
                    @{
                    var tempData = JsonSerializer.Deserialize(TempData["CurrentUser"].ToString(), typeof(IEnumerable<UserLoginModel>));
                    string jeck1 = "", jeck2 = "", jeck3 = "", jeck4 = "";
                    <tbody>



                    @foreach (var tempItem in (IEnumerable<UserLoginModel>)tempData)
                    {
                    jeck1 = tempItem.username;
                    jeck2 = tempItem.employeeno;
                    jeck3 = tempItem.email;
                    jeck4 = tempItem.localno;

                    }


                    <tr>
                    <td>User Name</td>
                    <td>@jeck1</td>
                    </tr>
                    <tr>
                    <td>Employee No.</td>
                    <td>@jeck2</td>
                    </tr>
                    <tr>
                    <td>Email</td>
                    <td>@jeck3</td>
                    </tr>
                    <tr>
                    <td>Local No.</td>
                    <td>@jeck4</td>
                    </tr>


                    </tbody>
                    TempData.Keep("CurrentUser");
                    }

                    </table> *@

                </div>


            </div>
        </div>
    </div>
    <hr />
    <div id="stkRole" class="vstack">
        <div class="form-group row mt-3">
            <label for="inputBU" class="col-sm-2 col-form-label">B. U.</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="inputBU" placeholder="Select BU">
            </div>
        </div>
        <div class="form-group row mt-3">
            <label for="inputRole" class="col-sm-2 col-form-label">Role</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="inputRole" placeholder="Select role">
            </div>
        </div>
       @*  <div class="mx-auto mt-3" style="height:50px">
            <label class="form-label" for="optBU">BU</label>
            <select id="optBU" class="form-select"></select>
        </div>

        <div class="mx-auto mt-3" style="height:50px">
            <label class="form-label" for="optRole">Role</label>
            <select id="optRole" class="form-select"></select>
        </div> *@
    </div>
</div>






